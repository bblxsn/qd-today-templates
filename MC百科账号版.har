[{"comment":"设置变量:可选自定义UA","request":{"method":"GET","url":"api://util/string/replace?r=json&p=True&s={{ UA == ''|string |urlencode}}&t=Mozilla%2F5.0%20(Windows%20NT%2010.0%3B%20Win64%3B%20x64)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F96.0.4664.45%20Safari%2F537.36","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"OK\"","from":"content"}],"failed_asserts":[{"re":"\"处理后字符串\": \"\"","from":"content"}],"extract_variables":[{"name":"UA_Status","re":"\"处理后字符串\": \"(.*)\"","from":"content"}]}},{"comment":"字符串替换","request":{"method":"GET","url":"api://util/string/replace?r=json&p=False&s={{UA_Status|urlencode}}&t={{UA|urlencode}}","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"OK\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"UA","re":"\"处理后字符串\": \"(.*)\"","from":"content"}]}},{"comment":"模拟登录环境\n","request":{"method":"GET","url":"https://www.mcmod.cn/","headers":[{"name":"Host","value":"www.mcmod.cn"},{"name":"Connection","value":"keep-alive"},{"name":"Cache-Control","value":"max-age=0"},{"name":"sec-ch-ua","value":"\"Chromium\";v=\"21\", \" Not;A Brand\";v=\"99\""},{"name":"sec-ch-ua-mobile","value":"?0"},{"name":"sec-ch-ua-platform","value":"\"Windows\""},{"name":"DNT","value":"1"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"User-Agent","value":"{{UA}}"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"Sec-Fetch-Site","value":"same-site"},{"name":"Sec-Fetch-Mode","value":"navigate"},{"name":"Sec-Fetch-User","value":"?1"},{"name":"Sec-Fetch-Dest","value":"document"},{"name":"Referer","value":"https://center.mcmod.cn/"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.9"}],"cookies":[],"data":"","mimeType":""},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[]}},{"comment":"登录","request":{"method":"POST","url":"https://www.mcmod.cn/action/doLogin/","headers":[{"name":":authority","value":"www.mcmod.cn"},{"name":":method","value":"POST"},{"name":":path","value":"/action/doLogin/"},{"name":":scheme","value":"https"},{"name":"accept","value":"*/*"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9"},{"name":"cache-control","value":"no-cache"},{"name":"content-type","value":"application/x-www-form-urlencoded; charset=UTF-8"},{"name":"origin","value":"https://www.mcmod.cn"},{"name":"pragma","value":"no-cache"},{"name":"referer","value":"https://www.mcmod.cn/login/"},{"name":"sec-ch-ua","value":"\".Not/A)Brand\";v=\"99\", \"Google Chrome\";v=\"103\", \"Chromium\";v=\"103\""},{"name":"sec-ch-ua-mobile","value":"?0"},{"name":"sec-ch-ua-platform","value":"\"Windows\""},{"name":"sec-fetch-dest","value":"empty"},{"name":"sec-fetch-mode","value":"cors"},{"name":"sec-fetch-site","value":"same-origin"},{"name":"user-agent","value":"{{UA}}"},{"name":"x-requested-with","value":"XMLHttpRequest"}],"cookies":[],"data":"data=%7B%22username%22%3A%22{{username|urlencode}}%22%2C%22password%22%3A%22{{password|urlencode}}%22%2C%22remember%22%3A0%2C%22captcha%22%3A%22%22%7D%0A","mimeType":"application/x-www-form-urlencoded; charset=UTF-8"},"rule":{"success_asserts":[{"re":"{\"state\":0}","from":"content"}],"failed_asserts":[],"extract_variables":[]}},{"comment":"获取UID","request":{"method":"GET","url":"https://www.mcmod.cn/login/","headers":[{"name":"Host","value":"www.mcmod.cn"},{"name":"Connection","value":"keep-alive"},{"name":"Cache-Control","value":"max-age=0"},{"name":"sec-ch-ua","value":"\"Chromium\";v=\"21\", \" Not;A Brand\";v=\"99\""},{"name":"sec-ch-ua-mobile","value":"?0"},{"name":"sec-ch-ua-platform","value":"\"Windows\""},{"name":"DNT","value":"1"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"User-Agent","value":"{{UA}}"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"Sec-Fetch-Site","value":"same-site"},{"name":"Sec-Fetch-Mode","value":"navigate"},{"name":"Sec-Fetch-User","value":"?1"},{"name":"Sec-Fetch-Dest","value":"document"},{"name":"Referer","value":"https://www.mcmod.cn/login/"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.9"}],"cookies":[],"data":"","mimeType":""},"rule":{"success_asserts":[{"re":"301","from":"status"}],"failed_asserts":[{"re":"200","from":"status"}],"extract_variables":[{"name":"uid","re":"center.mcmod.cn/(.*)/","from":"header-location"}]}},{"comment":"签到","request":{"method":"POST","url":"https://center.mcmod.cn/action/doUserCheckIn/","headers":[{"name":"Host","value":"center.mcmod.cn"},{"name":"Connection","value":"keep-alive"},{"name":"sec-ch-ua","value":"\"Chromium\";v=\"21\", \" Not;A Brand\";v=\"99\""},{"name":"DNT","value":"1"},{"name":"sec-ch-ua-mobile","value":"?0"},{"name":"User-Agent","value":"{{UA}}\n"},{"name":"Content-Type","value":"application/x-www-form-urlencoded; charset=UTF-8"},{"name":"Accept","value":"*/*"},{"name":"X-Requested-With","value":"XMLHttpRequest"},{"name":"sec-ch-ua-platform","value":"\"Windows\""},{"name":"Origin","value":"https://center.mcmod.cn"},{"name":"Sec-Fetch-Site","value":"same-origin"},{"name":"Sec-Fetch-Mode","value":"cors"},{"name":"Sec-Fetch-Dest","value":"empty"},{"name":"Referer","value":"https://center.mcmod.cn/386083/"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.9"}],"cookies":[],"data":"nCenterID={{uid|urlencode}}","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"amount","re":"\"amount\":(\\d+)","from":"content"}]}},{"comment":"获取背包中知识碎片数量","request":{"method":"POST","url":"https://center.mcmod.cn/frame/CenterItem/","headers":[{"name":"Host","value":"center.mcmod.cn"},{"name":"Connection","value":"keep-alive"},{"name":"sec-ch-ua","value":"\"Chromium\";v=\"21\", \" Not;A Brand\";v=\"99\""},{"name":"DNT","value":"1"},{"name":"sec-ch-ua-mobile","value":"?0"},{"name":"User-Agent","value":"{{UA}}\n"},{"name":"Content-Type","value":"application/x-www-form-urlencoded; charset=UTF-8"},{"name":"Accept","value":"*/*"},{"name":"X-Requested-With","value":"XMLHttpRequest"},{"name":"sec-ch-ua-platform","value":"\"Windows\""},{"name":"Origin","value":"https://center.mcmod.cn"},{"name":"Sec-Fetch-Site","value":"same-origin"},{"name":"Sec-Fetch-Mode","value":"cors"},{"name":"Sec-Fetch-Dest","value":"empty"},{"name":"referer","value":"https://center.mcmod.cn/{{uid|urlencode}}/"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.9"}],"cookies":[],"data":"uid={{uid|urlencode}}","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"all_amount","re":"title=\\\\\"\\\\u77e5\\\\u8bc6\\\\u788e\\\\u7247\\\\\".*\\\\u6570\\\\u91cf: (.*) \\\\u4e2a<\\\\/span>","from":"content"}]}},{"comment":"Unicode转换","request":{"method":"GET","url":"api://util/unicode?content=%E7%9F%A5%E8%AF%86%E7%A2%8E%E7%89%87%3A{{all_amount|urlencode}}%20%E7%AD%BE%E5%88%B0%E8%8E%B7%E5%8F%96%3A{{amount|urlencode}}","headers":[],"cookies":[],"data":""},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"__log__","re":"\"转换后\": \"(.*)\"","from":"content"}]}}]